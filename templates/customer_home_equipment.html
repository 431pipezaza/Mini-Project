{% extends "customer_layout.html"%}

{% block content %}

<ul class="nav nav-pills nav-fill">
  <li class="nav-item">
    <a class="nav-link" href="\customer_home">ทั้งหมด</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="\customer_home_equipment">เครื่องมือ</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="\customer_home_led">หลอดไฟ</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="\customer_home_electronic">อุปกรณ์ไฟฟ้า</a>
  </li>
</ul>


<div class="product-container"> 







  <!----------------------------------------------------->
  {% for m in Equipment %}

  
    <div class="col-md-3" >
    <img src="{{ m[4] }}" class="card-img-top" style="height:300px;object-fit:cover;">
    
    <div class="product-info">
      <h4>{{ m[6] }}</h4>
      <h3>{{ m[2] }}</h3>
      <p>{{ m[5] }}</p>

      <div>
        <span class="price">{{ m[3] }}฿</span>
      </div>
      <h3>จำนวนสินค้าที่เหลือ: {{ m[7] }}</h3>

      <div class="extra-info">
        <span>ส่งฟรี 3-5 ชม.</span>
      </div>
      
      
    <form action="/submit_cart" method="POST" enctype="multipart/form-data">
    <input type="hidden" name="CART_Name" value="{{ m[2] }}"> 
    <input type="hidden" name="CART_Price" value="{{ m[3] }}">
    <input type="hidden" name="CART_Detail" value="{{ m[5] }}">
    <input type="hidden" name="CART_Brand" value="{{ m[6] }}">
    <input type="hidden" name="CATALOG_ID" value="{{ m[0] }}"> 
    <div class="quantity-control" style="margin: 10px 0;">
      <button type="button" class="qty-btn" onclick="decreaseQty(this)">−</button>
      <input type="number" name="CART_Quantity" value="1" min="1" style="width: 50px; text-align:center;">
      <button type="button" class="qty-btn" onclick="increaseQty(this)">+</button>
    </div>

    <button type="submit" class="buy-btn">ซื้อเลย</button>
    </form>
</div>
</div>

  {% endfor %}
    <!----------------------------------------------------->
</div>






<script>
  function increaseQty(btn) {
    const input = btn.parentElement.querySelector('input[type="number"]');
    input.value = parseInt(input.value) + 1;
  }

  function decreaseQty(btn) {
    const input = btn.parentElement.querySelector('input[type="number"]');
    if (parseInt(input.value) > 1) {
      input.value = parseInt(input.value) - 1;
    }
  }
</script>


{% endblock%}